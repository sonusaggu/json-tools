document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("jsonInput"),n=document.getElementById("jsonOutput"),t=document.getElementById("validateBtn"),s=document.getElementById("clearBtn"),i=document.getElementById("sampleBtn"),l=document.getElementById("errorContainer"),r=document.getElementById("errorList"),a=document.getElementById("errorCount"),o=document.getElementById("charCount"),c=document.getElementById("lineNumbers"),d={name:"JSON Validator Sample",description:"This is a sample JSON for validation",version:"1.0",metadata:{created:"2023-01-01",modified:"2023-01-15"},tags:["json","validator","sample"],active:!0,count:42};function u(){const n=e.value.split("\n");let t="";for(let e=0;e<n.length;e++)t+=e+1+"<br>";c.innerHTML=t,m()}function m(){c.scrollTop=e.scrollTop}u(),e.style.paddingLeft="60px",e.addEventListener("scroll",m),e.addEventListener("input",function(){u(),o.textContent=`${e.value.length} characters`}),i.addEventListener("click",function(){const t=JSON.stringify(d,null,2);e.value=t,o.textContent=`${t.length} characters`,n.innerHTML='Click "Validate" to check the JSON',n.className="",l.classList.remove("visible"),u();c.querySelectorAll("br").forEach(e=>{e.previousSibling&&e.previousSibling.classList&&e.previousSibling.classList.remove("error-line")})}),s.addEventListener("click",function(){e.value="",n.innerHTML="Validation results will appear here...",n.className="",l.classList.remove("visible"),o.textContent="0 characters",u()}),t.addEventListener("click",function(){try{JSON.parse(e.value),n.innerHTML='<span class="valid">✓ Valid JSON</span>',n.className="valid-output",l.classList.remove("visible");c.querySelectorAll("br").forEach(e=>{e.previousSibling&&e.previousSibling.classList&&e.previousSibling.classList.remove("error-line")})}catch(t){n.innerHTML='<span class="invalid">✗ Invalid JSON</span>',n.className="invalid-output",function(n){const t=n.message.match(/position (\d+)/),s=t?parseInt(t[1]):null,i=document.createElement("div");if(i.className="error-item",null!==s){const t=e.value.substring(0,s).split("\n"),l=t.length,r=t[t.length-1].length+1;i.innerHTML=`\n                <span class="error-position">Line ${l}, Column ${r}:</span>\n                <span class="error-message">${n.message}</span>\n            `}else i.innerHTML=`\n                <span class="error-message">${n.message}</span>\n            `;if(r.innerHTML="",r.appendChild(i),a.textContent="1 error",l.classList.add("visible"),null!==s){e.focus(),e.setSelectionRange(s,s);const n=c.querySelectorAll("br");if(n.length>0){n.forEach(e=>{e.previousSibling&&e.previousSibling.classList&&e.previousSibling.classList.remove("error-line")});const e=lines.length-1;n[e]&&n[e].previousSibling&&n[e].previousSibling.classList.add("error-line")}}}(t)}}),window.addEventListener("resize",function(){m()})});